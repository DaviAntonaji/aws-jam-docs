# Task 1: Turn on the Game üéÆ

**Pontos Poss√≠veis:** 15  
**Penalidade de Dica:** 0  
**Pontos Dispon√≠veis:** 15  
**Check my progress:** Dispon√≠vel

---

## üìñ Background

Nesta tarefa, voc√™ ir√° gerar dados de sess√£o de jogos usando o **Kinesis Data Generator** e transmiti-los para o **Kinesis Data Streams**.

O Kinesis Data Generator √© uma ferramenta web que facilita a gera√ß√£o de dados de teste para streams do Kinesis, permitindo simular fluxos de dados em tempo real.

## üéØ Sua Tarefa

Configurar o Kinesis Data Generator para enviar dados de sess√µes de jogos para um Kinesis Data Stream pr√©-criado.

## üìö Passo a Passo

### 1Ô∏è‚É£ Acessar o Data Generator

**A√ß√£o:**
1. V√° para a se√ß√£o **Output Properties** do desafio
2. Encontre a propriedade **DataGeneratorURL**
3. Clique no link ou copie e cole no navegador

### 2Ô∏è‚É£ Fazer Login

**Credenciais:**
```
Username: awsuser
Password: Awsuser123
```

**A√ß√£o:**
1. Insira as credenciais
2. Clique em **Sign In**

### 3Ô∏è‚É£ Configurar Regi√£o e Stream

**Regi√£o:**
- Selecione **us-east-1** no dropdown de regi√£o

**Stream Name:**
- Um Kinesis Data Stream pr√©-criado deve aparecer automaticamente no dropdown
- **Anote este nome** - √© a resposta da Task 1! üìù

**Exemplo de nome:**
```
GameSessionStream-XXXXXXXXXX
```

### 4Ô∏è‚É£ Configurar Template de Dados

**Na se√ß√£o Output Properties, encontre:**
- Propriedade: **Template**
- Valor: JSON template para dados de sess√£o de jogos

**Template de exemplo:**
```json
{
  "gameId": {{random.number(1000000)}},
  "creationTime": {{date.now}},
  "gameDuration": {{random.number({"min":1800,"max":3600})}},
  "seasonId": "9",
  "winner": {{random.number({"min":1,"max":2})}},
  "firstBlood": {{random.number({"min":1,"max":2})}},
  "firstTower": {{random.number({"min":1,"max":2})}},
  "firstInhibitor": {{random.number({"min":1,"max":2})}},
  "firstBaron": {{random.number({"min":1,"max":2})}},
  "firstDragon": {{random.number({"min":1,"max":2})}},
  "firstRiftHerald": {{random.number({"min":1,"max":2})}},
  "t1_champ1id": {{random.number({"min":1,"max":134})}},
  "t1_champ1_sum1": {{random.number({"min":1,"max":13})}},
  "t1_champ1_sum2": {{random.number({"min":1,"max":13})}},
  "t1_champ2id": {{random.number({"min":1,"max":134})}},
  "t1_champ2_sum1": {{random.number({"min":1,"max":13})}},
  "t1_champ2_sum2": {{random.number({"min":1,"max":13})}},
  "t1_champ3id": {{random.number({"min":1,"max":134})}},
  "t1_champ3_sum1": {{random.number({"min":1,"max":13})}},
  "t1_champ3_sum2": {{random.number({"min":1,"max":13})}},
  "t1_champ4id": {{random.number({"min":1,"max":134})}},
  "t1_champ4_sum1": {{random.number({"min":1,"max":13})}},
  "t1_champ4_sum2": {{random.number({"min":1,"max":13})}},
  "t1_champ5id": {{random.number({"min":1,"max":134})}},
  "t1_champ5_sum1": {{random.number({"min":1,"max":13})}},
  "t1_champ5_sum2": {{random.number({"min":1,"max":13})}},
  "t1_towerKills": {{random.number({"min":0,"max":11})}},
  "t1_inhibitorKills": {{random.number({"min":0,"max":3})}},
  "t1_baronKills": {{random.number({"min":0,"max":2})}},
  "t1_dragonKills": {{random.number({"min":0,"max":5})}},
  "t1_riftHeraldKills": {{random.number({"min":0,"max":2})}},
  "t1_ban1": {{random.number({"min":1,"max":134})}},
  "t1_ban2": {{random.number({"min":1,"max":134})}},
  "t1_ban3": {{random.number({"min":1,"max":134})}},
  "t1_ban4": {{random.number({"min":1,"max":134})}},
  "t1_ban5": {{random.number({"min":1,"max":134})}},
  "t2_champ1id": {{random.number({"min":1,"max":134})}},
  "t2_champ1_sum1": {{random.number({"min":1,"max":13})}},
  "t2_champ1_sum2": {{random.number({"min":1,"max":13})}},
  "t2_champ2id": {{random.number({"min":1,"max":134})}},
  "t2_champ2_sum1": {{random.number({"min":1,"max":13})}},
  "t2_champ2_sum2": {{random.number({"min":1,"max":13})}},
  "t2_champ3id": {{random.number({"min":1,"max":134})}},
  "t2_champ3_sum1": {{random.number({"min":1,"max":13})}},
  "t2_champ3_sum2": {{random.number({"min":1,"max":13})}},
  "t2_champ4id": {{random.number({"min":1,"max":134})}},
  "t2_champ4_sum1": {{random.number({"min":1,"max":13})}},
  "t2_champ4_sum2": {{random.number({"min":1,"max":13})}},
  "t2_champ5id": {{random.number({"min":1,"max":134})}},
  "t2_champ5_sum1": {{random.number({"min":1,"max":13})}},
  "t2_champ5_sum2": {{random.number({"min":1,"max":13})}},
  "t2_towerKills": {{random.number({"min":0,"max":11})}},
  "t2_inhibitorKills": {{random.number({"min":0,"max":3})}},
  "t2_baronKills": {{random.number({"min":0,"max":2})}},
  "t2_dragonKills": {{random.number({"min":0,"max":5})}},
  "t2_riftHeraldKills": {{random.number({"min":0,"max":13})}},
  "t2_ban1": {{random.number({"min":1,"max":134})}},
  "t2_ban2": {{random.number({"min":1,"max":134})}},
  "t2_ban3": {{random.number({"min":1,"max":134})}},
  "t2_ban4": {{random.number({"min":1,"max":134})}},
  "t2_ban5": {{random.number({"min":1,"max":134})}}
}
```

**A√ß√£o:**
1. Copie o valor do template das Output Properties
2. Cole no campo **Template 1** no Data Generator

### 5Ô∏è‚É£ Configurar Par√¢metros de Envio

**Records per second:**
```
5-50 (recomendado para in√≠cio)
```
- Comece com 5-10 para evitar sobrecarga
- Pode aumentar gradualmente se necess√°rio

**Partition key:**
```
gameId
```
ou
```
{{random.number()}}
```

> üí° **Partition key** determina em qual shard do Kinesis o registro ser√° enviado

### 6Ô∏è‚É£ Iniciar Streaming

**A√ß√£o:**
1. Clique no bot√£o **Send Data**
2. Aguarde a confirma√ß√£o de que dados est√£o sendo enviados
3. Voc√™ ver√° contador de registros aumentando

**Indicadores de sucesso:**
```
‚úÖ Records sent: 150
‚úÖ Records/second: 5.0
‚úÖ KB/second: 2.5
```

### 7Ô∏è‚É£ (Opcional) Verificar no Console AWS

**Para confirmar o nome do stream:**

**Console:**
1. AWS Console ‚Üí **Kinesis**
2. **Data streams** (regi√£o us-east-1)
3. Veja o stream name na lista

**AWS CLI (se dispon√≠vel):**
```bash
aws kinesis list-streams --region us-east-1
```

**Sa√≠da esperada:**
```json
{
  "StreamNames": [
    "GameSessionStream-XXXXXXXXXX"
  ]
}
```

---

## ‚úÖ Valida√ß√£o da Tarefa

**Pergunta do desafio:**
```
What is the kinesis data stream name to which you are sending the data?
```

**Resposta:**
Insira o **nome exato** do Kinesis Data Stream que apareceu no dropdown do Data Generator.

**Formato:**
```
GameSessionStream-XXXXXXXXXX
```

> ‚ö†Ô∏è **Importante:** Envie apenas o **nome** do stream, n√£o o ARN completo

---

## üîç Troubleshooting

### Problema: Stream name n√£o aparece no dropdown

**Causas poss√≠veis:**
- Regi√£o incorreta selecionada
- Problema de permiss√µes no Data Generator

**Solu√ß√£o:**
1. Verifique se selecionou **us-east-1**
2. Fa√ßa logout e login novamente
3. Limpe cache do navegador
4. Tente em janela an√¥nima

### Problema: Erro ao enviar dados

**Mensagens comuns:**
```
Error putting records: User is not authorized
```

**Solu√ß√£o:**
- Verifique credenciais (awsuser / Awsuser123)
- Confirme que est√° na regi√£o correta
- Aguarde alguns segundos e tente novamente

### Problema: Template inv√°lido

**Erro:**
```
Invalid JSON in template
```

**Solu√ß√£o:**
1. Verifique se copiou o template completo
2. Certifique-se de que n√£o h√° caracteres extras
3. Use validador JSON online se necess√°rio

### Problema: Records not sending

**Checklist:**
- [ ] Region = us-east-1
- [ ] Stream name selecionado
- [ ] Template colado corretamente
- [ ] Records per second > 0
- [ ] Clicou em "Send Data"

---

## üìä Entendendo os Dados

### Estrutura do Template

**Campos principais:**

| Campo | Tipo | Descri√ß√£o |
|-------|------|-----------|
| gameId | Number | ID √∫nico do jogo |
| creationTime | Timestamp | Quando o jogo foi criado |
| gameDuration | Number | Dura√ß√£o em segundos (1800-3600) |
| seasonId | String | ID da temporada |
| winner | Number | Time vencedor (1 ou 2) |
| t1_champ1id | Number | ID do campe√£o 1 do time 1 |
| t1_towerKills | Number | Torres destru√≠das pelo time 1 |
| t2_dragonKills | Number | Drag√µes eliminados pelo time 2 |

**Nota:** Este √© um subset simplificado de dados de jogos MOBA (League of Legends style)

### Fun√ß√£o {{random.number()}}

**Sintaxe:**
```json
{{random.number(1000000)}}           // N√∫mero aleat√≥rio at√© 1000000
{{random.number({"min":1,"max":2})}} // Entre 1 e 2
```

**Outros helpers dispon√≠veis:**
```json
{{date.now}}                    // Timestamp atual
{{random.uuid}}                 // UUID aleat√≥rio
{{random.alphanumeric(10)}}    // String alfanum√©rica
```

---

## üí° Dicas Importantes

### 1. Mantenha Streaming Ativo
- Deixe o streaming rodando para as pr√≥ximas tasks
- N√£o feche a aba do Data Generator ainda
- Task 2 precisar√° desses dados

### 2. Ajuste Records/Second
- Comece com 5-10 para testes
- Aumente para 20-50 se quiser mais dados rapidamente
- Muito alto pode causar throttling

### 3. Monitore Recursos
- Verifique m√©tricas do Kinesis no console
- Observe incoming records rate
- PutRecords.Success deve estar em 100%

### 4. Pause se Necess√°rio
- Clique em "Stop Sending Data" para pausar
- √ötil se precisar fazer ajustes
- Clique "Send Data" novamente para retomar

---

## üéì Conceitos Aprendidos

### 1. Kinesis Data Streams

**O que √©:**
Servi√ßo de streaming de dados em tempo real da AWS que pode capturar, processar e armazenar grandes volumes de dados.

**Componentes:**
- **Stream:** Conjunto de shards
- **Shard:** Unidade de capacidade (1 MB/s in, 2 MB/s out)
- **Record:** Unidade de dado (max 1 MB)
- **Partition Key:** Determina em qual shard vai

### 2. Kinesis Data Generator

**Benef√≠cios:**
- Gera√ß√£o r√°pida de dados de teste
- Templates personaliz√°veis
- Helpers para dados realistas
- Controle de taxa de envio

**Casos de uso:**
- Teste de aplica√ß√µes de streaming
- Simula√ß√£o de IoT devices
- Prototipagem de pipelines

### 3. Partition Keys

**Import√¢ncia:**
- Distribui dados entre shards
- Garante ordem dentro de uma partition key
- Afeta throughput e distribui√ß√£o

**Estrat√©gias:**
- Random: Distribui√ß√£o uniforme
- Entity ID: Agrupa dados relacionados
- Timestamp: Pode causar hot shards

---

## üéØ Checklist de Conclus√£o

- [ ] Data Generator acessado com sucesso
- [ ] Login realizado (awsuser / Awsuser123)
- [ ] Regi√£o us-east-1 selecionada
- [ ] Stream name identificado e anotado
- [ ] Template colado em Template 1
- [ ] Records per second configurado (5-50)
- [ ] Partition key definido
- [ ] Streaming iniciado (Send Data)
- [ ] Registros sendo enviados (contador ativo)
- [ ] Nome do stream submetido como resposta
- [ ] Task 1 validada com sucesso

---

**‚úÖ Pr√≥xima etapa:** Task 2 - Ingest√£o dos dados de streaming para o Redshift!

> **üí° Mantenha o streaming ativo** - voc√™ precisar√° desses dados para as pr√≥ximas tasks.
